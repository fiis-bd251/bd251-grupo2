# 5.3. Documentación de Ajustes al Modelo

Debido a que no se puede representar directamente una relación muchos a muchos entre dos entidades, se normaliza usando una tercera tabla (intermedia) que descompone la relación N:M en dos relaciones 1:N.

## Relación entre `Proveedor` e `Insumo` (N:M)

 Para representar la relación muchos a muchos entre los proveedores y los insumos que ofrecen, se implementa una tabla intermedia:
 
 ### Tabla intermedia: `ProveedorxInsumo`
 
 | Atributo              | Descripción                                                                                    |
 |-----------------------|------------------------------------------------------------------------------------------------|
 | ID\_PROVEEDOR         | Clave foránea que referencia a `Proveedor`                                                     |
 | ID\_INSUMO            | Clave foránea que referencia a `Insumo`                                                        |
 | PRECIO_REFERENCIAL    | Base de comparación de precios para decisiones de compra y negociación con los proveedores.    |
 
 ### ¿Por qué?

 - Para un mismo proveedor, este puede ofrecer mas de un insumo del mismo tipo a la empresa para abastecer su almacén.
 - Un mismo insumo puede venir de diferentes proveedores.
 - La tabla intermedia permite asociar el precio de un insumo con su proveedor, lo cual es esencial para la selección de los proveedores al momento de realizar la planificación de una compra.

## Relación entre `Dosificado` y `Lote de Insumo` (N:M)

Para representar la relación muchos a muchos entre los procesos de dosificado y los lotes de insumo, se implementa una tabla intermedia:

### Tabla intermedia: `DosificadoxLote_Insumo`

| Atributo            | Descripción                                         |
|---------------------|-----------------------------------------------------|
| ID\_DOSIFICADO    | Clave foránea que referencia a `Dosificado`         |
| ID\_LOTE\_INSUMO   | Clave foránea que referencia a `Lote de Insumo`        |
| CANTIDAD\_DOSIFICADA    | Cantidad dosificada de ese lote de insumo para un lote de producto      |

### ¿Por qué?

- Un proceso de dosificado puede requerir varios lotes de insumo debido a la formulación del producto ligado al lote de producto.
- Un mismo lote de insumo puede ser utilizado en distintos procesos de dosificado por registro histórico.
- La tabla intermedia permite asociar cuánto de cada lote fue usado por cada dosificado, lo cual es esencial para la trazabilidad del proceso productivo y el control de calidad.
